<div style="display: flex">
  <div class="mat-typography" style="text-align: center; width: 100%; padding-top: 5px">
    <h1>{{ title }} Utilisateur</h1>
  </div>
</div>

<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <div *ngIf="action !== 'delete'">
    <div class="form_container">
      <mat-form-field hideRequiredMarker *ngIf="action === 'add'">
        <mat-label>Username</mat-label>
        <input formControlName="username" type="text" matInput name="username" />
      </mat-form-field>
      <mat-form-field hideRequiredMarker>
        <mat-label>Nom</mat-label>
        <input formControlName="name" type="text" matInput name="name" />
      </mat-form-field>
      <mat-form-field hideRequiredMarker>
        <mat-label>Password</mat-label>
        <input formControlName="password" type="text" matInput name="password" />
      </mat-form-field>
      <mat-form-field hideRequiredMarker>
        <mat-label>type</mat-label>
        <mat-select name="type" formControlName="type">
          <!-- [(ngModel)]="product_id_selected" -->
          <mat-option value="Simple"> Simple </mat-option>
          <mat-option value="Admin"> Admin </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <div *ngIf="action === 'delete'">
    <p>Are you sure to delete user : {{ user.username }} ?</p>
  </div>
  <div *ngIf="msg_error" class="msg_error">
    {{ msg_error }}
  </div>

  <div style="float: right">
    <button
      type="submit"
      mat-stroked-button
      [color]="colorBtn"
      [disabled]="(action !== 'delete' && userForm.invalid) || loading"
    >
      <i [class]="classIcon" *ngIf="!loading"></i>
      <img
        src="../../../../../../assets/img/loading.gif"
        style="width: 16px; height: 16px"
        *ngIf="loading"
      />
      {{ nameBtn }}
    </button>
    <button type="button" mat-stroked-button (click)="onClose()">Close</button>
  </div>
</form>
